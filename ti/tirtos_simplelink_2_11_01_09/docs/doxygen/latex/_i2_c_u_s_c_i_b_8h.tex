\subsection{I2\-C\-U\-S\-C\-I\-B.\-h File Reference}
\label{_i2_c_u_s_c_i_b_8h}\index{I2\-C\-U\-S\-C\-I\-B.\-h@{I2\-C\-U\-S\-C\-I\-B.\-h}}


\subsubsection{Detailed Description}
I2\-C\-U\-S\-C\-I\-B driver implementation for a U\-S\-C\-I\-B controller. ============================================================================

The I2\-C\-U\-S\-C\-I\-B header file should be included in an application as follows\-: 
\begin{DoxyCode}
*  #include <ti/drivers/I2C.h>
*  #include <ti/drivers/I2CUSCIB.h>
*  
\end{DoxyCode}


This I2\-C driver implementation is designed to operate on a U\-C\-S\-I controller in I2\-C mode.

\paragraph*{Interrupts}

This driver is interrupt driven. For M\-S\-P430 devices, it requires the user to statically (.cfg) create a Hwi for the accocated U\-S\-C\-I controller and have it call the I2\-C\-U\-S\-C\-I\-B's Hwi interrupt function I2\-C\-U\-S\-C\-I\-B\-\_\-hwi\-Int\-Fxn().

The following information is needed to create the Hwi\-:
\begin{DoxyEnumerate}
\item Interrupt vector\par
 The interrupt vector number can be found in a given M\-S\-P430 device specific header file (e.\-g. msp430f5529.\-h).
\item Hwi function pointer\par
 Call I2\-C\-U\-S\-C\-I\-B\-\_\-hwi\-Int\-Fxn()
\item Hwi function argument\par
 This argument to the Hwi indexes into the I2\-C\-\_\-config\mbox{[}\mbox{]} data structure. Ensure you are indexing into the I2\-C\-\_\-config\mbox{[}\mbox{]} element that uses a \hyperlink{_i2_c_u_s_c_i_b_8h_a72eb489c9beee32e652431265a234cbd}{I2\-C\-U\-S\-C\-I\-B\-\_\-fxn\-Table} pointer.
\end{DoxyEnumerate}


\begin{DoxyCode}
*  \textcolor{comment}{// Statically create a I2CUSCIB Hwi in the .cfg file}
*  var hwi0Params = \textcolor{keyword}{new} Hwi.Params();
*  hwi0Params.instance.name = \textcolor{stringliteral}{"hwi0"};
*  hwi0Params.arg = 0;  \textcolor{comment}{// I2C\_config[0];}
*  Program.global.hwi0 = Hwi.create(45, \textcolor{stringliteral}{"&I2CUSCIB\_hwiIntFxn"}, hwi0Params);
*  
\end{DoxyCode}
 

{\ttfamily \#include $<$stdint.\-h$>$}\\*
{\ttfamily \#include $<$stdbool.\-h$>$}\\*
{\ttfamily \#include $<$ti/drivers/\-I2\-C.\-h$>$}\\*
{\ttfamily \#include $<$ti/sysbios/knl/\-Semaphore.\-h$>$}\\*
Include dependency graph for I2\-C\-U\-S\-C\-I\-B.\-h\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_i2_c_u_s_c_i_b_8h__incl}
\end{center}
\end{figure}
\subsubsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{struct_i2_c_u_s_c_i_b___h_w_attrs}{I2\-C\-U\-S\-C\-I\-B\-\_\-\-H\-W\-Attrs}
\begin{DoxyCompactList}\small\item\em I2\-C\-U\-S\-C\-I\-B Hardware attributes. \end{DoxyCompactList}\item 
struct \hyperlink{struct_i2_c_u_s_c_i_b___object}{I2\-C\-U\-S\-C\-I\-B\-\_\-\-Object}
\begin{DoxyCompactList}\small\item\em I2\-C\-U\-S\-C\-I\-B Object. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{_i2_c_u_s_c_i_b_8h_a21807b856cb66a3bf2f0c2bac0674ce7}{I2\-C\-U\-S\-C\-I\-B\-\_\-\-C\-M\-D\-\_\-\-U\-N\-D\-E\-F\-I\-N\-E\-D}~-\/1
\end{DoxyCompactItemize}
\subsubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef struct \hyperlink{struct_i2_c_u_s_c_i_b___h_w_attrs}{I2\-C\-U\-S\-C\-I\-B\-\_\-\-H\-W\-Attrs} \hyperlink{_i2_c_u_s_c_i_b_8h_a83f30e87604a576ba053bea4686c9569}{I2\-C\-U\-S\-C\-I\-B\-\_\-\-H\-W\-Attrs}
\begin{DoxyCompactList}\small\item\em I2\-C\-U\-S\-C\-I\-B Hardware attributes. \end{DoxyCompactList}\item 
typedef struct \hyperlink{struct_i2_c_u_s_c_i_b___object}{I2\-C\-U\-S\-C\-I\-B\-\_\-\-Object} \hyperlink{_i2_c_u_s_c_i_b_8h_a4b7b87d6ac61e0808fde0cd44bc2aa08}{I2\-C\-U\-S\-C\-I\-B\-\_\-\-Object}
\begin{DoxyCompactList}\small\item\em I2\-C\-U\-S\-C\-I\-B Object. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
const \hyperlink{struct_i2_c___fxn_table}{I2\-C\-\_\-\-Fxn\-Table} \hyperlink{_i2_c_u_s_c_i_b_8h_a72eb489c9beee32e652431265a234cbd}{I2\-C\-U\-S\-C\-I\-B\-\_\-fxn\-Table}
\end{DoxyCompactItemize}


\subsubsection{Macro Definition Documentation}
\index{I2\-C\-U\-S\-C\-I\-B.\-h@{I2\-C\-U\-S\-C\-I\-B.\-h}!I2\-C\-U\-S\-C\-I\-B\-\_\-\-C\-M\-D\-\_\-\-U\-N\-D\-E\-F\-I\-N\-E\-D@{I2\-C\-U\-S\-C\-I\-B\-\_\-\-C\-M\-D\-\_\-\-U\-N\-D\-E\-F\-I\-N\-E\-D}}
\index{I2\-C\-U\-S\-C\-I\-B\-\_\-\-C\-M\-D\-\_\-\-U\-N\-D\-E\-F\-I\-N\-E\-D@{I2\-C\-U\-S\-C\-I\-B\-\_\-\-C\-M\-D\-\_\-\-U\-N\-D\-E\-F\-I\-N\-E\-D}!I2CUSCIB.h@{I2\-C\-U\-S\-C\-I\-B.\-h}}
\paragraph[{I2\-C\-U\-S\-C\-I\-B\-\_\-\-C\-M\-D\-\_\-\-U\-N\-D\-E\-F\-I\-N\-E\-D}]{\setlength{\rightskip}{0pt plus 5cm}\#define I2\-C\-U\-S\-C\-I\-B\-\_\-\-C\-M\-D\-\_\-\-U\-N\-D\-E\-F\-I\-N\-E\-D~-\/1}\label{_i2_c_u_s_c_i_b_8h_a21807b856cb66a3bf2f0c2bac0674ce7}


\subsubsection{Typedef Documentation}
\index{I2\-C\-U\-S\-C\-I\-B.\-h@{I2\-C\-U\-S\-C\-I\-B.\-h}!I2\-C\-U\-S\-C\-I\-B\-\_\-\-H\-W\-Attrs@{I2\-C\-U\-S\-C\-I\-B\-\_\-\-H\-W\-Attrs}}
\index{I2\-C\-U\-S\-C\-I\-B\-\_\-\-H\-W\-Attrs@{I2\-C\-U\-S\-C\-I\-B\-\_\-\-H\-W\-Attrs}!I2CUSCIB.h@{I2\-C\-U\-S\-C\-I\-B.\-h}}
\paragraph[{I2\-C\-U\-S\-C\-I\-B\-\_\-\-H\-W\-Attrs}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf I2\-C\-U\-S\-C\-I\-B\-\_\-\-H\-W\-Attrs}  {\bf I2\-C\-U\-S\-C\-I\-B\-\_\-\-H\-W\-Attrs}}\label{_i2_c_u_s_c_i_b_8h_a83f30e87604a576ba053bea4686c9569}


I2\-C\-U\-S\-C\-I\-B Hardware attributes. 

These fields are used by driverlib A\-P\-Is and therefore must be populated by driverlib macro definitions. For M\-S\-P430\-Ware these definitions are found in\-:
\begin{DoxyItemize}
\item inc/hw\-\_\-memmap.\-h
\item usci\-\_\-b\-\_\-i2c.\-h
\end{DoxyItemize}

A sample structure is shown below\-: 
\begin{DoxyCode}
*  \textcolor{keyword}{const} I2CUSCIB_HWAttrs i2cUSCIBHWAttrs[] = \{
*      \{
*          USCI\_B0\_BASE,
*          USCI\_B\_SPI\_CLOCKSOURCE\_SMCLK
*      \},
*      \{
*          USCI\_B1\_BASE,
*          USCI\_B\_SPI\_CLOCKSOURCE\_SMCLK
*      \},
*  \};
*  
\end{DoxyCode}
 \index{I2\-C\-U\-S\-C\-I\-B.\-h@{I2\-C\-U\-S\-C\-I\-B.\-h}!I2\-C\-U\-S\-C\-I\-B\-\_\-\-Object@{I2\-C\-U\-S\-C\-I\-B\-\_\-\-Object}}
\index{I2\-C\-U\-S\-C\-I\-B\-\_\-\-Object@{I2\-C\-U\-S\-C\-I\-B\-\_\-\-Object}!I2CUSCIB.h@{I2\-C\-U\-S\-C\-I\-B.\-h}}
\paragraph[{I2\-C\-U\-S\-C\-I\-B\-\_\-\-Object}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf I2\-C\-U\-S\-C\-I\-B\-\_\-\-Object}  {\bf I2\-C\-U\-S\-C\-I\-B\-\_\-\-Object}}\label{_i2_c_u_s_c_i_b_8h_a4b7b87d6ac61e0808fde0cd44bc2aa08}


I2\-C\-U\-S\-C\-I\-B Object. 

The application must not access any member variables of this structure! 

\subsubsection{Variable Documentation}
\index{I2\-C\-U\-S\-C\-I\-B.\-h@{I2\-C\-U\-S\-C\-I\-B.\-h}!I2\-C\-U\-S\-C\-I\-B\-\_\-fxn\-Table@{I2\-C\-U\-S\-C\-I\-B\-\_\-fxn\-Table}}
\index{I2\-C\-U\-S\-C\-I\-B\-\_\-fxn\-Table@{I2\-C\-U\-S\-C\-I\-B\-\_\-fxn\-Table}!I2CUSCIB.h@{I2\-C\-U\-S\-C\-I\-B.\-h}}
\paragraph[{I2\-C\-U\-S\-C\-I\-B\-\_\-fxn\-Table}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf I2\-C\-\_\-\-Fxn\-Table} I2\-C\-U\-S\-C\-I\-B\-\_\-fxn\-Table}\label{_i2_c_u_s_c_i_b_8h_a72eb489c9beee32e652431265a234cbd}
